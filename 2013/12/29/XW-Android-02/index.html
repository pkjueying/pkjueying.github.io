<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="hello, It's me......"><title>XW-Android-02 | Drogon龘</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">XW-Android-02</h1><a id="logo" href="/.">Drogon龘</a><p class="description">蒹葭苍苍,道阻且长......</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/book/"><i class="fa fa-book"> 书籍</i></a><a href="/heart/"><i class="fa fa-heart"> 可可</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/history/"><i class="fa fa-history"> 历史</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">XW-Android-02</h1><div class="post-meta">Dec 29, 2013<span> | </span><span class="category"><a href="/categories/old-blog/">old blog</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2013/12/29/XW-Android-02/" href="/2013/12/29/XW-Android-02/#comments" class="ds-thread-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#wifi模块"><span class="toc-number">1.</span> <span class="toc-text">wifi模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#耳机"><span class="toc-number">2.</span> <span class="toc-text">耳机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改桌面workspace以及AppsCustomize的单元大小"><span class="toc-number">3.</span> <span class="toc-text">修改桌面workspace以及AppsCustomize的单元大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改默认输入法"><span class="toc-number">4.</span> <span class="toc-text">修改默认输入法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#邮箱默认签名"><span class="toc-number">5.</span> <span class="toc-text">邮箱默认签名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#去掉相机的全景模式"><span class="toc-number">6.</span> <span class="toc-text">去掉相机的全景模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#相机字体关闭打开显示不全"><span class="toc-number">7.</span> <span class="toc-text">相机字体关闭打开显示不全</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改桌面布局"><span class="toc-number">8.</span> <span class="toc-text">修改桌面布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改系统内存"><span class="toc-number">9.</span> <span class="toc-text">修改系统内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#视频缩放模式默认全屏"><span class="toc-number">10.</span> <span class="toc-text">视频缩放模式默认全屏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#锁屏界面将向下的解锁换成向右的"><span class="toc-number">11.</span> <span class="toc-text">锁屏界面将向下的解锁换成向右的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#默认动态壁纸"><span class="toc-number">12.</span> <span class="toc-text">默认动态壁纸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分区相关的东东"><span class="toc-number">13.</span> <span class="toc-text">分区相关的东东</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在build-prop中用属性值来默认动态壁纸"><span class="toc-number">14.</span> <span class="toc-text">在build.prop中用属性值来默认动态壁纸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#相机拍照存储中的“打开-关闭”显示不全"><span class="toc-number">15.</span> <span class="toc-text">相机拍照存储中的“打开-关闭”显示不全</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后置摄像头拍照画面拉伸"><span class="toc-number">16.</span> <span class="toc-text">后置摄像头拍照画面拉伸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在init-sunxx-rc中新建目录以及复制相关的文件到该目录（比如竞技摩托的lib库）"><span class="toc-number">17.</span> <span class="toc-text">在init.sunxx.rc中新建目录以及复制相关的文件到该目录（比如竞技摩托的lib库）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#按键音"><span class="toc-number">18.</span> <span class="toc-text">按键音</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在配置中修改浏览器模式"><span class="toc-number">19.</span> <span class="toc-text">在配置中修改浏览器模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#去掉相机拍照时手势的缩放功能"><span class="toc-number">20.</span> <span class="toc-text">去掉相机拍照时手势的缩放功能</span></a></li></ol></div></div><div class="post-content"><p>在一个新的项目中，在拿到板之前，如果有固件，则获取到相关的配置，并测试相关的外围看是否正常，根据原理图以及相关的资料进行相应的修改，调试相关的驱动等等。。。</p>
<h3 id="wifi模块"><a href="#wifi模块" class="headerlink" title="wifi模块"></a>wifi模块</h3><p>在设置中的wifi模块，首先需要判断硬件是否存在故障；其次在配置文件中注意硬件的高低电平极其引脚；最后注意相关驱动的加载。<br>首先排除硬件，对于相关的配置下面已rtl8188etv为例：</p>
<ol>
<li>在.config中需要配置如下选项，将wifi driver 编译为模块CONFIG_RTL8188EU = m</li>
<li><p>在BoardConfig.mk中</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">#</span></span> 1. Wifi Configuration</span><br><span class="line">BOARD_WIFI_VENDOR := realtek</span><br><span class="line"><span class="tag">\<span class="name">#</span></span>BOARD_WIFI_VENDOR := broadcom</span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">#</span></span> 1.1 realtek wifi support</span><br><span class="line">ifeq (<span class="formula">$(BOARD_WIFI_VENDOR), realtek)</span><br><span class="line">    WPA_SUPPLICANT_VERSION := VER_0_8_X</span><br><span class="line">    BOARD_WPA_SUPPLICANT_DRIVER := NL80211</span><br><span class="line">    BOARD_WPA_SUPPLICANT_PRIVATE_LIB := lib_driver_cmd_rtl</span><br><span class="line">    BOARD_HOSTAPD_DRIVER        := NL80211</span><br><span class="line">    BOARD_HOSTAPD_PRIVATE_LIB   := lib_driver_cmd_rtl</span><br><span class="line"></span><br><span class="line">   # SW_BOARD_USR_WIFI := rtl8192cu</span><br><span class="line">   # BOARD_WLAN_DEVICE := rtl8192cu</span><br><span class="line"></span><br><span class="line">    SW_BOARD_USR_WIFI := rtl8188eu</span><br><span class="line">    BOARD_WLAN_DEVICE := rtl8188eu</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在init.sun7i.rc中</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">#</span></span> 1.1 realtek wifi sta service</span><br><span class="line">service wpa_supplicant /system/bin/wpa_supplicant -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf -e/data/misc/wifi/entropy.bin</span><br><span class="line">	class main</span><br><span class="line">	socket wpa_wlan0 dgram 660 wifi wifi</span><br><span class="line">	disabled</span><br><span class="line">	oneshot</span><br><span class="line">	</span><br><span class="line"><span class="tag">\<span class="name">#</span></span> 1.2 realtek wifi sta p2p concurrent service</span><br><span class="line">service p2p_supplicant /system/bin/wpa_supplicant <span class="tag">\<span class="name"></span><br><span class="line"></span></span>	-ip2p0 -Dnl80211 -c/data/misc/wifi/p2p_supplicant.conf -e/data/misc/wifi/entropy.bin -N <span class="tag">\<span class="name"></span><br><span class="line"></span></span>	-iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf</span><br><span class="line">	class main</span><br><span class="line">	socket wpa_wlan0 dgram 660 wifi wifi</span><br><span class="line">	disabled</span><br><span class="line">	oneshot</span><br></pre></td></tr></table></figure>
</li>
<li><p>在sys_config.fex中</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[wifi_para]</span><br><span class="line">wifi_used = 1</span><br><span class="line">wifi_sdc_id = 3</span><br><span class="line">wifi_usbc_id = 2</span><br><span class="line">wifi_usbc_type = 1</span><br><span class="line">wifi_mod_sel = 6</span><br><span class="line">wifi_power = ""</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="耳机"><a href="#耳机" class="headerlink" title="耳机"></a>耳机</h3><p>关于耳机主要是由于时钟频率以及相关的配置，通常在sys_config.fex中进行</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[audio_para]</span><br><span class="line">audio_used = 1</span><br><span class="line">audio_pa_ctrl = port:PH15&lt;1&gt;&lt;default&gt;&lt;default&gt;&lt;0&gt;</span><br><span class="line">audio_earphone_ctrl  = port:PH15&lt;1&gt;&lt;default&gt;&lt;default&gt;&lt;0&gt;</span><br><span class="line">headphone_vol = 0x3f</span><br></pre></td></tr></table></figure>
<p>如果没有声音或者是一些杂音则很可能是由于相关的驱动没有加载成功，要在init.XXXX中进行相关的设置:一般—&gt;insmod /system/vendor/xxx.ko</p>
<h3 id="修改桌面workspace以及AppsCustomize的单元大小"><a href="#修改桌面workspace以及AppsCustomize的单元大小" class="headerlink" title="修改桌面workspace以及AppsCustomize的单元大小"></a>修改桌面workspace以及AppsCustomize的单元大小</h3><p>找到设备对应的桌面布局文件，比如我的1024*600像素的一般在values-sw600dp下<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- AppsCustomize --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_cell_width"</span>&gt;</span>96dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_cell_height"</span>&gt;</span>96dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_pageLayoutPaddingLeft"</span>&gt;</span>12dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_pageLayoutPaddingRight"</span>&gt;</span>12dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_tab_bar_height"</span>&gt;</span>60dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_tab_bar_margin_top"</span>&gt;</span>8dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_widget_cell_width_gap"</span>&gt;</span>20dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"apps_customize_widget_cell_height_gap"</span>&gt;</span>24dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"app_widget_preview_label_margin_top"</span>&gt;</span>8dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"app_widget_preview_label_margin_left"</span>&gt;</span>@dimen/app_widget_preview_padding_left<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"app_widget_preview_label_margin_right"</span>&gt;</span>@dimen/app_widget_preview_padding_right<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Workspace cell size --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_cell_width_land"</span>&gt;</span>88dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_cell_width_port"</span>&gt;</span>96dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_cell_height_land"</span>&gt;</span>88dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_cell_height_port"</span>&gt;</span>96dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_width_gap_land"</span>&gt;</span>80dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_width_gap_port"</span>&gt;</span>2dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_height_gap_land"</span>&gt;</span>2dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"workspace_height_gap_port"</span>&gt;</span>70dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="修改默认输入法"><a href="#修改默认输入法" class="headerlink" title="修改默认输入法"></a>修改默认输入法</h3><p>例如默认为google拼音</p>
<p>1、Z:\exdroid4.2-a20\android4.2\frameworks\base\packages\SettingsProvider\res\values\defaults.xml<br>中添加<br><figure class="highlight xml"><figcaption><span><string name="def_input_method">com.google.android.inputmethod.pinyin/.PinyinIME</string>```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2、Z:\exdroid4.2-a20\android4.2\frameworks\base\packages\SettingsProvider\src\com\android\providers\settings\DatabaseHelper.java</span><br><span class="line"></span><br><span class="line">在</span><br><span class="line">```java private void loadSecureSettings(SQLiteDatabase db) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>中加上<br><figure class="highlight java"><figcaption><span>loadStringSetting( stmt, Settings.Secure.DEFAULT_INPUT_METHOD,R.string.def_input_method);```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">就可以了</span><br><span class="line"></span><br><span class="line">或者是</span><br><span class="line">在```<span class="function">java <span class="keyword">private</span> <span class="keyword">void</span> <span class="title">loadSecureSettings</span><span class="params">(SQLiteDatabase db)</span>可以改为</span><br><span class="line">            <span class="comment">//def input method</span></span><br><span class="line">            <span class="title">loadSetting</span><span class="params">(stmt, Settings.Secure.DEFAULT_INPUT_METHOD,</span><br><span class="line">                    SystemProperties.get(<span class="string">"def_input_method"</span>,</span><br><span class="line">                            mContext.getResources()</span>.<span class="title">getString</span><span class="params">(R.string.def_input_method)</span>))</span>;</span><br></pre></td></tr></table></figure></p>
<p>可以实现在build.prop中配置输入，比如配置Google拼音，在build.prop中加入<br>def_input_method=com.android.inputmethod.pinyin/.PinyinIME<br>即可,这样处理可以方便使用输入法修改。</p>
<p>ps:在build.prop中加配置可在device配置中的mk文件(比如nuclear_xxx.mk）中处理</p>
<p>3.将该输入法的apk放置/system/app下，如果有lib则将其放入/system/lib/目录下</p>
<p>验证：<br>   mmm ./frameworks/base/packages/SettingsProvider/ -j16<br>   在/data/data/com.android.providers.settings/databases 下，sqlite3 settings.db 用select * from secure ;看见2|default_input_method|com.google.android.inputmethod.pinyin/.PinyinIME 即正确了</p>
<h3 id="邮箱默认签名"><a href="#邮箱默认签名" class="headerlink" title="邮箱默认签名"></a>邮箱默认签名</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/android4.2-a20/android/android4.2/packages/apps/Email/src/com/android/email/activity$ git diff MessageCompose.java </span><br><span class="line">diff --git a/src/com/android/email/activity/MessageCompose.java b/src/com/android/email/activity/MessageCompose.java</span><br><span class="line">index <span class="number">0</span>ac7301..d728117 <span class="number">100644</span></span><br><span class="line">--- a/src/com/android/email/activity/MessageCompose.java</span><br><span class="line">+++ b/src/com/android/email/activity/MessageCompose.java</span><br><span class="line">@@ -<span class="number">2330</span>,<span class="number">6</span> +<span class="number">2330</span>,<span class="number">19</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> MessageCompose extends Activity implements OnClickListener, OnFocus</span><br><span class="line">      *     <span class="literal">null</span> or has no signature, &#123;<span class="keyword">@code</span> <span class="literal">null</span>&#125; <span class="keyword">is</span> returned.</span><br><span class="line">      */</span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">static</span> String getAccountSignature(Account account) &#123;</span><br><span class="line">-        <span class="keyword">return</span> (account == <span class="literal">null</span>) ? <span class="literal">null</span> : account.mSignature;</span><br><span class="line">+<span class="comment">//        return (account == null) ? null : account.mSignature;</span></span><br><span class="line">+<span class="comment">// change by zfl </span></span><br><span class="line">+       String sinature = <span class="string">"From SANEI N60"</span> ;</span><br><span class="line">+        <span class="keyword">if</span>(account == <span class="literal">null</span>)&#123;</span><br><span class="line">+               <span class="keyword">return</span> sinature;</span><br><span class="line">+        &#125;</span><br><span class="line">+        <span class="keyword">if</span>(account.mSignature == <span class="literal">null</span>)&#123;</span><br><span class="line">+               <span class="keyword">return</span> sinature;</span><br><span class="line">+        &#125;</span><br><span class="line">+        <span class="keyword">if</span>(account.mSignature.isEmpty())&#123;</span><br><span class="line">+               account.mSignature = sinature ;</span><br><span class="line">+        &#125;</span><br><span class="line">+        <span class="keyword">return</span> account.mSignature;</span><br><span class="line">+<span class="comment">//end by zfl </span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="去掉相机的全景模式"><a href="#去掉相机的全景模式" class="headerlink" title="去掉相机的全景模式"></a>去掉相机的全景模式</h3><p>单<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">diff --git a/src/com/android/camera/VideoController.java b/src/com/android/camera/VideoController.java</span><br><span class="line">old mode <span class="number">100644</span></span><br><span class="line"><span class="keyword">new</span> mode <span class="number">100755</span></span><br><span class="line">index d84c1ad..<span class="number">7</span>b4f5e3</span><br><span class="line">--- a/src/com/android/camera/VideoController.java</span><br><span class="line">+++ b/src/com/android/camera/VideoController.java</span><br><span class="line">@@ -<span class="number">75</span>,<span class="number">7</span> +<span class="number">75</span>,<span class="number">10</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> VideoController extends PieController</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">-        mRenderer.addItem(item);</span><br><span class="line">+        <span class="keyword">int</span> n = CameraHolder.instance().getNumberOfCameras();</span><br><span class="line">+        <span class="keyword">if</span> (n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">+            mRenderer.addItem(item);</span><br><span class="line">+        &#125;</span><br><span class="line">         mOtherKeys = <span class="keyword">new</span> String[] &#123;</span><br><span class="line">                 CameraSettings.KEY_VIDEO_EFFECT,</span><br><span class="line">                 CameraSettings.KEY_VIDEO_TIME_LAPSE_FRAME_INTERVAL,</span><br></pre></td></tr></table></figure></p>
<p>双：<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/android4.2-a20/android/android4.2/packages/apps/Camera/src/com/android/camera$ git diff CameraActivity.java</span><br><span class="line">diff --git a/src/com/android/camera/CameraActivity.java b/src/com/android/camera/CameraActivity.java</span><br><span class="line">index ec2c2d2..c91dd54 <span class="number">100755</span></span><br><span class="line">--- a/src/com/android/camera/CameraActivity.java</span><br><span class="line">+++ b/src/com/android/camera/CameraActivity.java</span><br><span class="line">@@ -<span class="number">85</span>,<span class="number">7</span> +<span class="number">85</span>,<span class="number">9</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> CameraActivity extends ActivityBase</span><br><span class="line">                 &amp;&amp; CameraHolder.instance().getFrontCameraId() == <span class="number">0</span>) &#123;</span><br><span class="line">             DRAW_IDS = DRAW_IDS_WITHOUT_PAN;</span><br><span class="line">         &#125; <span class="keyword">else</span>  &#123;</span><br><span class="line">-            DRAW_IDS = DRAW_IDS_WITH_PAN;</span><br><span class="line">+<span class="comment">//            DRAW_IDS = DRAW_IDS_WITH_PAN;</span></span><br><span class="line">+<span class="comment">//zfl </span></span><br><span class="line">+             DRAW_IDS = DRAW_IDS_WITHOUT_PAN;</span><br><span class="line">         &#125;</span><br><span class="line">         mDrawables = <span class="keyword">new</span> Drawable[DRAW_IDS.length];</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; DRAW_IDS.length; i++) &#123;</span><br></pre></td></tr></table></figure></p>
<h3 id="相机字体关闭打开显示不全"><a href="#相机字体关闭打开显示不全" class="headerlink" title="相机字体关闭打开显示不全"></a>相机字体关闭打开显示不全</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/android4.2-a20/android/android4.2/packages/apps/Camera$ git diff ./res/values/dimens.xml</span><br><span class="line">diff --git a/res/values/dimens.xml b/res/values/dimens.xml</span><br><span class="line">index cb38007..ce45209 <span class="number">100644</span></span><br><span class="line">--- a/res/values/dimens.xml</span><br><span class="line">+++ b/res/values/dimens.xml</span><br><span class="line">@@ -<span class="number">23</span>,<span class="number">7</span> +<span class="number">23</span>,<span class="number">8</span> @@</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_item_text_size"</span>&gt;<span class="number">18</span>sp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_knob_width"</span>&gt;<span class="number">20</span>dp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_knob_text_size"</span>&gt;<span class="number">20</span>dp&lt;/dimen&gt;</span><br><span class="line">-    &lt;dimen name=<span class="string">"setting_item_text_width"</span>&gt;<span class="number">95</span>dp&lt;/dimen&gt;</span><br><span class="line">+&lt;!--  zfl  &lt;dimen name=<span class="string">"setting_item_text_width"</span>&gt;<span class="number">95</span>dp&lt;/dimen&gt; --&gt;</span><br><span class="line">+    &lt;dimen name=<span class="string">"setting_item_text_width"</span>&gt;<span class="number">115</span>dp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_popup_window_width"</span>&gt;<span class="number">240</span>dp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_item_list_margin"</span>&gt;<span class="number">14</span>dp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"indicator_bar_width"</span>&gt;<span class="number">48</span>dp&lt;/dimen&gt;</span><br></pre></td></tr></table></figure>
<h3 id="修改桌面布局"><a href="#修改桌面布局" class="headerlink" title="修改桌面布局"></a>修改桌面布局</h3><p>实现办法</p>
<ol>
<li>下载 GetLayout.apk</li>
<li>adb push它们到平板电脑的/system/app中，然后后启平板电脑。</li>
<li>在应用列表中点击GetLayout应用图标以开启该应用：</li>
</ol>
<p>程序会自动运行，显示一个Toast提示成功生成“/data/data/com.xw.getlayout/files/home_layout.xml”的消息，然后程序自动退出。<br>将GetLayout.apk生成的home_layout.xml从平板电脑中抽取到本地：</p>
<figure class="highlight bash"><figcaption><span>adb pull</span><a href="/data/data/com.xw.getlayout/files/home_layout.xml">~/ ```</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. 用上面克隆出来的home_layout.xml来编译Laucher2：</span><br><span class="line">用home_layout.xml覆盖Launcher应用中所有的“default_workspace.xml”：</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">cp -rf ~/home_layout.xml packages/apps/Launcher2/res/xml/default_workspace.xml</span><br><span class="line">cp -rf ~/home_layout.xml packages/apps/Launcher2/res/xml-sw480dp/default_workspace.xml</span><br><span class="line">cp -rf ~/home_layout.xml packages/apps/Launcher2/res/xml-sw600dp/default_workspace.xml</span><br><span class="line">cp -rf ~/home_layout.xml packages/apps/Launcher2/res/xml-sw720dp/default_workspace.xml</span><br><span class="line"></span><br><span class="line">chmod 777 packages/apps/Launcher2/res/xml/default_workspace.xml</span><br><span class="line">chmod 777 packages/apps/Launcher2/res/xml-sw480dp/default_workspace.xml</span><br><span class="line">chmod 777 packages/apps/Launcher2/res/xml-sw600dp/default_workspace.xml</span><br><span class="line">chmod 777 packages/apps/Launcher2/res/xml-sw720dp/default_workspace.xml</span><br></pre></td></tr></table></figure>
<p>//重新编译Laucher2:<br><figure class="highlight bash"><figcaption><span>mmm -B packages/apps/Launcher2 -j16  ```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//将新生成的Launcher2.apk安装到平板上：</span><br><span class="line">```bash</span><br><span class="line">adb push out/target/product/wing-k70/system/app/Launcher2.apk /system/app</span><br></pre></td></tr></table></figure></p>
<h3 id="修改系统内存"><a href="#修改系统内存" class="headerlink" title="修改系统内存"></a>修改系统内存</h3><p>已1G为例：</p>
<ol>
<li>在BoardConfig.mk文件中 设置BOARD_USERDATAIMAGE_PARTITION_SIZE := 1073741824</li>
<li>在sys_partion.fex中设置 <figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">;------------------------------&gt;mmcblk0p8/nande</span><br><span class="line">[partition]</span><br><span class="line">name         = data</span><br><span class="line">    size         = 2097152</span><br><span class="line">    user_type    = 0x2</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="视频缩放模式默认全屏"><a href="#视频缩放模式默认全屏" class="headerlink" title="视频缩放模式默认全屏"></a>视频缩放模式默认全屏</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/android4.2-a20/android/android4.2/packages/apps/Gallery2$ git diff src/com/android/gallery3d/app/MovieViewControl.java</span><br><span class="line">diff --git a/src/com/android/gallery3d/app/MovieViewControl.java b/src/com/android/gallery3d/app/MovieViewControl.java</span><br><span class="line">index ea7087d..a01b9a0 <span class="number">100755</span></span><br><span class="line">--- a/src/com/android/gallery3d/app/MovieViewControl.java</span><br><span class="line">+++ b/src/com/android/gallery3d/app/MovieViewControl.java</span><br><span class="line">@@ -<span class="number">1024</span>,<span class="number">7</span> +<span class="number">1024</span>,<span class="number">8</span> @@ VideoView.OnSubFocusItems&#123;</span><br><span class="line">mControlFocus = EDITOR_ZOOM;</span><br><span class="line"></span><br><span class="line">mDialogTitle.setText(R.<span class="built_in">string</span>.zoom_title);</span><br><span class="line">- <span class="keyword">int</span> currentMode = sp.getInt(EDITOR_ZOOM, <span class="number">0</span>);</span><br><span class="line">+<span class="comment">// int currentMode = sp.getInt(EDITOR_ZOOM, 0);</span></span><br><span class="line">+ <span class="keyword">int</span> currentMode = sp.getInt(EDITOR_ZOOM, <span class="number">1</span>); <span class="comment">// zfl</span></span><br><span class="line"><span class="keyword">int</span>[] list = mRes.getIntArray(R.array.screen_zoom_values);</span><br><span class="line"><span class="keyword">for</span>(mListFocus = <span class="number">0</span>; mListFocus &lt; list.length; mListFocus++) &#123;</span><br><span class="line"><span class="keyword">if</span>(currentMode == list[mListFocus]) &#123;</span><br><span class="line">@@ -<span class="number">1144</span>,<span class="number">7</span> +<span class="number">1145</span>,<span class="number">8</span> @@ VideoView.OnSubFocusItems&#123;</span><br><span class="line">mVideoView.setSubPosition(offset);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* zoom mode */</span></span><br><span class="line">- <span class="keyword">int</span> zoom = sp.getInt(EDITOR_ZOOM, <span class="number">0</span>);</span><br><span class="line">+<span class="comment">// int zoom = sp.getInt(EDITOR_ZOOM, 0);</span></span><br><span class="line">+ <span class="keyword">int</span> zoom = sp.getInt(EDITOR_ZOOM, <span class="number">1</span>); <span class="comment">//zfl</span></span><br><span class="line">mVideoView.setZoomMode(zoom);</span><br></pre></td></tr></table></figure>
<h3 id="锁屏界面将向下的解锁换成向右的"><a href="#锁屏界面将向下的解锁换成向右的" class="headerlink" title="锁屏界面将向下的解锁换成向右的"></a>锁屏界面将向下的解锁换成向右的</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/android4.2-a20/android/android4.2/frameworks/base/core/res/res$ git diff values-sw600dp-land/arrays.xml</span><br><span class="line">diff --git a/core/res/res/values-sw600dp-land/arrays.xml b/core/res/res/values-sw600dp-land/arrays.xml</span><br><span class="line">index <span class="number">5550216.</span>.<span class="number">2</span>eabf66 <span class="number">100644</span></span><br><span class="line">--- a/core/res/res/values-sw600dp-land/arrays.xml</span><br><span class="line">+++ b/core/res/res/values-sw600dp-land/arrays.xml</span><br><span class="line">@@ -<span class="number">22</span>,<span class="number">35</span> +<span class="number">22</span>,<span class="number">35</span> @@</span><br><span class="line">     &lt;!-- Resources <span class="keyword">for</span> GlowPadView <span class="keyword">in</span> LockScreen --&gt;</span><br><span class="line">     &lt;array name=<span class="string">"lockscreen_targets_when_silent"</span>&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@drawable</span>/ic_lockscreen_unlock&lt;/item&gt;</span><br><span class="line">-        &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">+        &lt;item&gt;<span class="keyword">@drawable</span>/ic_action_assist_generic&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@drawable</span>/ic_lockscreen_soundon&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">     &lt;/array&gt;</span><br><span class="line"> </span><br><span class="line">     &lt;array name=<span class="string">"lockscreen_target_descriptions_when_silent"</span>&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@string</span>/description_target_unlock&lt;/item&gt;</span><br><span class="line">-        &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">+        &lt;item&gt;<span class="keyword">@string</span>/description_target_search&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@string</span>/description_target_soundon&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">     &lt;/array&gt;</span><br><span class="line"> </span><br><span class="line">     &lt;array name=<span class="string">"lockscreen_direction_descriptions"</span>&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@string</span>/description_direction_right&lt;/item&gt;</span><br><span class="line">-        &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">+        &lt;item&gt;<span class="keyword">@string</span>/description_direction_up&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@string</span>/description_direction_left&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">     &lt;/array&gt;</span><br><span class="line"> </span><br><span class="line">     &lt;array name=<span class="string">"lockscreen_targets_when_soundon"</span>&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@drawable</span>/ic_lockscreen_unlock&lt;/item&gt;</span><br><span class="line">-        &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">+        &lt;item&gt;<span class="keyword">@drawable</span>/ic_action_assist_generic&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@drawable</span>/ic_lockscreen_silent&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">     &lt;/array&gt;</span><br><span class="line"> </span><br><span class="line">     &lt;array name=<span class="string">"lockscreen_target_descriptions_when_soundon"</span>&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@string</span>/description_target_unlock&lt;/item&gt;</span><br><span class="line">-        &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">+        &lt;item&gt;<span class="keyword">@string</span>/description_target_search&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@string</span>/description_target_silent&lt;/item&gt;</span><br><span class="line">         &lt;item&gt;<span class="keyword">@null</span>&lt;/item&gt;</span><br><span class="line">     &lt;/array&gt;</span><br></pre></td></tr></table></figure>
<h3 id="默认动态壁纸"><a href="#默认动态壁纸" class="headerlink" title="默认动态壁纸"></a>默认动态壁纸</h3><p>以蘑菇云为例，如下<br><img src="/img/xw/20130909135608859.png" alt=""></p>
<h3 id="分区相关的东东"><a href="#分区相关的东东" class="headerlink" title="分区相关的东东"></a>分区相关的东东</h3><p>主要涉及到两个文件：sys_partition以及BoardConfig   相关修改见下图：<br><img src="/img/xw/20130910111249375.png" alt=""></p>
<p><img src="/img/xw/20130910111305531.png" alt=""></p>
<p>结果如下图：<br><img src="/img/xw/20130910111350093.png" alt=""></p>
<h3 id="在build-prop中用属性值来默认动态壁纸"><a href="#在build-prop中用属性值来默认动态壁纸" class="headerlink" title="在build.prop中用属性值来默认动态壁纸"></a>在build.prop中用属性值来默认动态壁纸</h3><p>首先我们在build.prop文件中添加已属性值：修改pack_before.sh脚本添加两行,如下图：<br><img src="/img/xw/20130911150346765.png" alt=""></p>
<p>其中红色的箭头就是动态壁纸相关的包名以及服务名<br>然后我们在/frameworks/base/services/java/com/android/server下的WallpaperManagerService.java 文件中作如下修改即可：<br><img src="/img/xw/20130911150810187.png" alt=""></p>
<p>最后烧写固件<br>打印的Log日志如下：<br><img src="/img/xw/20130911151027828.png" alt=""></p>
<h3 id="相机拍照存储中的“打开-关闭”显示不全"><a href="#相机拍照存储中的“打开-关闭”显示不全" class="headerlink" title="相机拍照存储中的“打开-关闭”显示不全"></a>相机拍照存储中的“打开-关闭”显示不全</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/common_a20/android/packages/apps/Camera$ git diff res/values/dimens.xml</span><br><span class="line">diff --git a/res/values/dimens.xml b/res/values/dimens.xml</span><br><span class="line">old mode <span class="number">100644</span></span><br><span class="line"><span class="keyword">new</span> mode <span class="number">100755</span></span><br><span class="line">index cb38007..ec1bacc</span><br><span class="line">--- a/res/values/dimens.xml</span><br><span class="line">+++ b/res/values/dimens.xml</span><br><span class="line">@@ -<span class="number">23</span>,<span class="number">7</span> +<span class="number">23</span>,<span class="number">8</span> @@</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_item_text_size"</span>&gt;<span class="number">18</span>sp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_knob_width"</span>&gt;<span class="number">20</span>dp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_knob_text_size"</span>&gt;<span class="number">20</span>dp&lt;/dimen&gt;</span><br><span class="line">-    &lt;dimen name=<span class="string">"setting_item_text_width"</span>&gt;<span class="number">95</span>dp&lt;/dimen&gt;</span><br><span class="line">+&lt;!--  zfl  &lt;dimen name=<span class="string">"setting_item_text_width"</span>&gt;<span class="number">95</span>dp&lt;/dimen&gt; --&gt;</span><br><span class="line">+    &lt;dimen name=<span class="string">"setting_item_text_width"</span>&gt;<span class="number">120</span>dp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_popup_window_width"</span>&gt;<span class="number">240</span>dp&lt;/dimen&gt;</span><br><span class="line">     &lt;dimen name=<span class="string">"setting_item_list_margin"</span>&gt;<span class="number">14</span>dp&lt;/dimen&gt;</span><br></pre></td></tr></table></figure>
<h3 id="后置摄像头拍照画面拉伸"><a href="#后置摄像头拍照画面拉伸" class="headerlink" title="后置摄像头拍照画面拉伸"></a>后置摄像头拍照画面拉伸</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:/media/home2/zfl/common_a20/android/packages/apps/Camera$ git diff res/values/arrays.xml</span><br><span class="line">diff --git a/res/values/arrays.xml b/res/values/arrays.xml</span><br><span class="line">index c6a823b..<span class="number">7</span>c30b77 <span class="number">100644</span></span><br><span class="line">--- a/res/values/arrays.xml</span><br><span class="line">+++ b/res/values/arrays.xml</span><br><span class="line">@@ -<span class="number">29</span>,<span class="number">9</span> +<span class="number">29</span>,<span class="number">9</span> @@</span><br><span class="line"></span><br><span class="line"><span class="number">6</span></span><br><span class="line"></span><br><span class="line">- <span class="keyword">@string</span>/pref_video_quality_default</span><br><span class="line">+ <span class="number">5</span></span><br><span class="line"></span><br><span class="line">- <span class="number">4</span></span><br><span class="line">+ <span class="keyword">@string</span>/pref_video_quality_default</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">zfl<span class="keyword">@Exdroid</span>:/media/home2/zfl/common_a20/android/packages/apps/Camera$ git diff res/values/strings.xml</span><br><span class="line">diff --git a/res/values/strings.xml b/res/values/strings.xml</span><br><span class="line">index <span class="number">23</span>ba8f8..<span class="number">9861</span>be7 <span class="number">100644</span></span><br><span class="line">--- a/res/values/strings.xml</span><br><span class="line">+++ b/res/values/strings.xml</span><br><span class="line">@@ -<span class="number">86</span>,<span class="number">7</span> +<span class="number">86</span>,<span class="number">7</span> @@</span><br><span class="line"></span><br><span class="line">Video quality</span><br><span class="line"></span><br><span class="line">- <span class="number">5</span></span><br><span class="line">+ <span class="number">4</span></span><br><span class="line"></span><br><span class="line">HD <span class="number">1080</span>p</span><br></pre></td></tr></table></figure>
<h3 id="在init-sunxx-rc中新建目录以及复制相关的文件到该目录（比如竞技摩托的lib库）"><a href="#在init-sunxx-rc中新建目录以及复制相关的文件到该目录（比如竞技摩托的lib库）" class="headerlink" title="在init.sunxx.rc中新建目录以及复制相关的文件到该目录（比如竞技摩托的lib库）"></a>在init.sunxx.rc中新建目录以及复制相关的文件到该目录（比如竞技摩托的lib库）</h3><p>下面就已竞技摩托为例：场景是在固件中将竞技摩托放在system 的 app下，不能卸载，由于该app的lib库是在特定的目录下寻找，找不到直接报错，而不会再到system/lib下继续寻找，所以我们只能将其相关的Lib库放置在其目录下：<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/common_a20/android/device/softwinner/wingchiphd-other$ git diff init.sun7i.rc</span><br><span class="line">diff --git a/init.sun7i.rc b/init.sun7i.rc</span><br><span class="line">index <span class="number">786309</span>d..<span class="number">14</span>f3e4e <span class="number">100755</span></span><br><span class="line">--- a/init.sun7i.rc</span><br><span class="line">+++ b/init.sun7i.rc</span><br><span class="line">@@ -<span class="number">42</span>,<span class="number">7</span> +<span class="number">42</span>,<span class="number">7</span> @@ on fs</span><br><span class="line">     exec /system/bin/logwrapper /system/bin/e2fsck -y /dev/block/cache</span><br><span class="line">     exec /system/bin/busybox mount -t ext4 -o noatime,nosuid,nodev,barrier=<span class="number">0</span>,journal_checksum,noauto_da_alloc /dev/block/cache /cac</span><br><span class="line"> </span><br><span class="line">-    format_userdata /dev/block/UDISK CT720</span><br><span class="line">+    format_userdata /dev/block/UDISK CT720K</span><br><span class="line"> # zfl</span><br><span class="line">     format_userdata /dev/block/<span class="keyword">private</span> PRIVATE</span><br><span class="line">     mkdir /mnt/<span class="keyword">private</span> <span class="number">0</span>770 system system</span><br><span class="line">@@ -<span class="number">61</span>,<span class="number">6</span> +<span class="number">61</span>,<span class="number">22</span> @@ on boot</span><br><span class="line">        insmod /system/vendor/modules/sw_device.ko</span><br><span class="line">        chmod <span class="number">777</span> /data/misc</span><br><span class="line"> </span><br><span class="line">+mkdir /data/app-lib/RiptideGP</span><br><span class="line">+chown root root /data/app-lib/RiptideGP</span><br><span class="line">+chmod <span class="number">0</span>755 /data/app-lib/RiptideGP</span><br><span class="line">+</span><br><span class="line">+copy /system/lib/libBlue.so  /data/app-lib/RiptideGP/libBlue.so</span><br><span class="line">+chown root root /data/app-lib/RiptideGP/libBlue.so</span><br><span class="line">+chmod <span class="number">0</span>755 /data/app-lib/RiptideGP/libBlue.so</span><br><span class="line">+</span><br><span class="line">+copy /system/lib/libfmodex.so  /data/app-lib/RiptideGP/libfmodex.so</span><br><span class="line">+chown root root /data/app-lib/RiptideGP/libfmodex.so</span><br><span class="line">+chmod <span class="number">0</span>755 /data/app-lib/RiptideGP/libfmodex.so</span><br><span class="line">+</span><br><span class="line">+copy /system/lib/libfmodevent.so /data/app-lib/RiptideGP/libfmodevent.so</span><br><span class="line">+chown root root /data/app-lib/RiptideGP/libfmodevent.so</span><br><span class="line">+chmod <span class="number">0</span>755 /data/app-lib/RiptideGP/libfmodevent.so</span><br></pre></td></tr></table></figure></p>
<h3 id="按键音"><a href="#按键音" class="headerlink" title="按键音"></a>按键音</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/common_a20/android/frameworks/base$ git diff policy/src/com/android/internal/policy/impl/PhoneWindowManager.java</span><br><span class="line">diff --git a/policy/src/com/android/internal/policy/impl/PhoneWindowManager.java b/policy/src/com/android/internal/policy/impl/Phone</span><br><span class="line">index fc9bd0f..<span class="number">8635010</span> <span class="number">100755</span></span><br><span class="line">--- a/policy/src/com/android/internal/policy/impl/PhoneWindowManager.java</span><br><span class="line">+++ b/policy/src/com/android/internal/policy/impl/PhoneWindowManager.java</span><br><span class="line">@@ -<span class="number">3565</span>,<span class="number">6</span> +<span class="number">3565</span>,<span class="number">12</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> PhoneWindowManager implements WindowManagerPolicy &#123;</span><br><span class="line">             <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">final</span> boolean down = event.getAction() == KeyEvent.ACTION_DOWN;</span><br><span class="line">+<span class="comment">// zfl</span></span><br><span class="line">+       <span class="keyword">if</span>(!down) &#123;</span><br><span class="line">+               AudioManager am = (AudioManager)mContext.getSystemService(Context.AUDIO_SERVICE);</span><br><span class="line">+               am.playSoundEffect(android.view.SoundEffectConstants.CLICK);</span><br><span class="line">+       &#125;</span><br><span class="line">+</span><br><span class="line">         <span class="keyword">final</span> boolean canceled = event.isCanceled();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">桌面Workspace文本大小设置</span><br><span class="line"></span><br><span class="line">zfl<span class="keyword">@Exdroid</span>:~/common_a20/android/packages/apps/Launcher2$ git diff src/com/android/launcher2/BubbleTextView.java</span><br><span class="line">diff --git a/src/com/android/launcher2/BubbleTextView.java b/src/com/android/launcher2/BubbleTextView.java</span><br><span class="line">index <span class="number">610</span>aedc..c86b49e <span class="number">100755</span></span><br><span class="line">--- a/src/com/android/launcher2/BubbleTextView.java</span><br><span class="line">+++ b/src/com/android/launcher2/BubbleTextView.java</span><br><span class="line">@@ -<span class="number">55</span>,<span class="number">6</span> +<span class="number">55</span>,<span class="number">8</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> BubbleTextView extends TextView &#123;</span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">int</span> mPressedOutlineColor;</span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">int</span> mPressedGlowColor;</span><br><span class="line"> </span><br><span class="line">+       <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> bubbleTextInt = <span class="number">14</span> ; </span><br><span class="line">+</span><br><span class="line">     <span class="keyword">private</span> boolean mBackgroundSizeChanged;</span><br><span class="line">     <span class="keyword">private</span> Drawable mBackground;</span><br><span class="line"> </span><br><span class="line">@@ -<span class="number">79</span>,<span class="number">6</span> +<span class="number">81</span>,<span class="number">9</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> BubbleTextView extends TextView &#123;</span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">void</span> init() &#123;</span><br><span class="line">         mLongPressHelper = <span class="keyword">new</span> CheckLongPressHelper(<span class="keyword">this</span>);</span><br><span class="line">         mBackground = getBackground();</span><br><span class="line">+       <span class="comment">//zfl</span></span><br><span class="line">+       <span class="keyword">super</span>.setTextSize(bubbleTextInt) ;</span><br><span class="line">+</span><br></pre></td></tr></table></figure>
<h3 id="在配置中修改浏览器模式"><a href="#在配置中修改浏览器模式" class="headerlink" title="在配置中修改浏览器模式"></a>在配置中修改浏览器模式</h3><p>首先在build.prop中设置属性：ro.browser.user_agent<br>然后在java中修改相关代码即可：</p>
<figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/common_a20/android/packages/apps/Browser$ git diff ./src/com/android/browser/preferences/BrowserModeFragment.java    </span><br><span class="line">diff --git a/src/com/android/browser/preferences/BrowserModeFragment.java b/src/com/android/browser/preferences/BrowserModeFragment.</span><br><span class="line">index ab7a411..<span class="number">9e4</span>bc40 <span class="number">100755</span></span><br><span class="line">--- a/src/com/android/browser/preferences/BrowserModeFragment.java</span><br><span class="line">+++ b/src/com/android/browser/preferences/BrowserModeFragment.java</span><br><span class="line">@@ -<span class="number">45</span>,<span class="number">8</span> +<span class="number">45</span>,<span class="number">12</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> BrowserModeFragment extends Fragment implements</span><br><span class="line">                LayoutParams lp = <span class="keyword">new</span> LayoutParams(LayoutParams.MATCH_PARENT,</span><br><span class="line">                                LayoutParams.WRAP_CONTENT);</span><br><span class="line">                radioGroup.setLayoutParams(lp);</span><br><span class="line">-               String def = mPref.getString(PreferenceKeys.PREF_USER_AGENT,</span><br><span class="line">-                               <span class="string">"3"</span>);</span><br><span class="line">+</span><br><span class="line">+               <span class="comment">//add by zfl </span></span><br><span class="line">+               String user_agent = android.os.SystemProperties.get(<span class="string">"ro.browser.user_agent"</span> , <span class="string">"3"</span>) ;</span><br><span class="line">+</span><br><span class="line">+               String def = mPref.getString(PreferenceKeys.PREF_USER_AGENT, user_agent);</span><br><span class="line">+</span><br><span class="line">                <span class="keyword">if</span> (mEntries != <span class="literal">null</span> &amp;&amp; mEntryValues != <span class="literal">null</span>) &#123;</span><br></pre></td></tr></table></figure>
<h3 id="去掉相机拍照时手势的缩放功能"><a href="#去掉相机拍照时手势的缩放功能" class="headerlink" title="去掉相机拍照时手势的缩放功能"></a>去掉相机拍照时手势的缩放功能</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">zfl<span class="keyword">@Exdroid</span>:~/common_a20/android/packages/apps/Camera$ git diff src/com/android/camera/ui/ZoomRenderer.java</span><br><span class="line">diff --git a/src/com/android/camera/ui/ZoomRenderer.java b/src/com/android/camera/ui/ZoomRenderer.java</span><br><span class="line">index <span class="number">10</span>c5e80..<span class="number">6643634</span> <span class="number">100644</span></span><br><span class="line">--- a/src/com/android/camera/ui/ZoomRenderer.java</span><br><span class="line">+++ b/src/com/android/camera/ui/ZoomRenderer.java</span><br><span class="line">@@ -<span class="number">50</span>,<span class="number">8</span> +<span class="number">50</span>,<span class="number">8</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> ZoomRenderer extends OverlayRenderer</span><br><span class="line">     <span class="keyword">private</span> Rect mTextBounds;</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">interface</span> OnZoomChangedListener &#123;</span><br><span class="line">-        <span class="keyword">void</span> onZoomStart();</span><br><span class="line">-        <span class="keyword">void</span> onZoomEnd();</span><br><span class="line">+       <span class="keyword">void</span> onZoomStart();</span><br><span class="line">+       <span class="keyword">void</span> onZoomEnd();</span><br><span class="line">         <span class="keyword">void</span> onZoomValueChanged(<span class="keyword">int</span> index);  <span class="comment">// only for immediate zoom</span></span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">@@ -<span class="number">125</span>,<span class="number">7</span> +<span class="number">125</span>,<span class="number">7</span> @@ <span class="keyword">public</span> <span class="keyword">class</span> ZoomRenderer extends OverlayRenderer</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">@Override</span></span><br><span class="line">     <span class="keyword">public</span> boolean onScale(ScaleGestureDetector detector) &#123;</span><br><span class="line">-        <span class="keyword">final</span> <span class="built_in">float</span> sf = detector.getScaleFactor();</span><br><span class="line">+      <span class="comment">/*  final float sf = detector.getScaleFactor();</span><br><span class="line">         float circle = (int) (mCircleSize * sf * sf);</span><br><span class="line">         circle = Math.max(mMinCircle, circle);</span><br><span class="line">         circle = Math.min(mMaxCircle, circle);</span><br><span class="line">@@ -134,25 +134,28 @@ public class ZoomRenderer extends OverlayRenderer</span><br><span class="line">             int zoom = mMinZoom + (int) ((mCircleSize - mMinCircle) * (mMaxZoom - mMinZoom) / (mMaxCircle - mMinCircle));</span><br><span class="line">             mListener.onZoomValueChanged(zoom);</span><br><span class="line">         &#125;</span><br><span class="line">+       */</span></span><br><span class="line">         <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">@Override</span></span><br><span class="line">     <span class="keyword">public</span> boolean onScaleBegin(ScaleGestureDetector detector) &#123;</span><br><span class="line">-        setVisible(<span class="literal">true</span>);</span><br><span class="line">+  <span class="comment">/*      setVisible(true);</span><br><span class="line">         if (mListener != null) &#123;</span><br><span class="line">             mListener.onZoomStart();</span><br><span class="line">         &#125;</span><br><span class="line">         update();</span><br><span class="line">+       */</span></span><br><span class="line">         <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">@Override</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> onScaleEnd(ScaleGestureDetector detector) &#123;</span><br><span class="line">-        setVisible(<span class="literal">false</span>);</span><br><span class="line">+ <span class="comment">/*       setVisible(false);</span><br><span class="line">         if (mListener != null) &#123;</span><br><span class="line">             mListener.onZoomEnd();</span><br><span class="line">         &#125;</span><br><span class="line">+*/</span></span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://github.com/pkjueying/pkjueying.github.io/2013/12/29/XW-Android-02/" data-id="ciod2l5yn000andvr1zlx72xs" class="article-share-link">分享到</a><div class="tags"><a href="/tags/android/">android</a></div><div class="post-nav"><a href="/2014/03/10/Android-启动过程代码跟踪/" class="pre">Android 启动过程代码跟踪</a><a href="/2013/12/18/XW-Android-01/" class="next">XW-Android-01</a></div><div data-thread-key="2013/12/29/XW-Android-02/" data-title="XW-Android-02" data-url="https://github.com/pkjueying/pkjueying.github.io/2013/12/29/XW-Android-02/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://github.com/pkjueying/pkjueying.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/history/">history</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/old-blog/">old blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/work/" style="font-size: 15px;">work</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/Yii/" style="font-size: 15px;">Yii</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/heart/" style="font-size: 15px;">heart</a> <a href="/tags/book/" style="font-size: 15px;">book</a> <a href="/tags/binder/" style="font-size: 15px;">binder</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/05/19/Ubuntu下搭建LNMP环境/">Ubuntu下搭建LNMP环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/18/罗马人的故事01/">罗马人的故事01</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/17/thingking-everyday/">每天随记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/13/don-t-lazy/">don't lazy</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/17/binder01/">binder简要学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/04/11/Android-开机动画跟踪/"> android4.2 开机动画跟踪</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/03/10/Android-启动过程代码跟踪/">Android 启动过程代码跟踪</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/12/29/XW-Android-02/">XW-Android-02</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/12/18/XW-Android-01/">XW-Android-01</a></li><li class="post-list-item"><a class="post-list-link" href="/2012/11/18/Yii项目实践/">yii项目实践</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://share2your.info" title="tjl可可" target="_blank">tjl可可</a><ul></ul><a href="http://blog.csdn.net/v_JULY_v?viewmode=contents" title="v_JULY_v数据结构＋算法" target="_blank">v_JULY_v数据结构＋算法</a><ul></ul><a href="http://blog.csdn.net/Luoshengyang?viewmode=contents" title="老罗的android" target="_blank">老罗的android</a><ul></ul><a href="http://cooshell.cn/" title="coolShell" target="_blank">coolShell</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Drogon龘.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'zfltjl080519'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>